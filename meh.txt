beginfunction print_stuff [ something as string, meh as any];

	out ["i am print_stuff: ", something, " , ", meh];

	if not host_has ["lol"];

		host_add ["lol", 33];

		out ["optional return"];
		return;
	endif;

endfunction;

beginfunction main;

	out ["main is starting"];

	let one be 1; 
	let two be 2;

	if host_has ["lol"];
		out ["there is lol"];
		let hv be host_get ["lol"];
		out ["lol is ", hv];
	else;
		out ["there is no lol"];
	endif;

	let hvar be host_get ["var"];
	out ["var is ", hvar];


	let strparam be host_get ["some_string"];
	call [ print_stuff, strparam, hvar ];

	let d be 12.2;
	if is_double [d];
		out ["is double"];
	else;
		out [d, " is not double"];
	endif;

	if is_equal [one, two];
		fail ["something is horribly wrong"];
	else;
		out ["sanity reigns"];
	endif;

	#A regular loop...
	let looper be 1;
	loop;

		out ["looper as ", looper];
		if is_equal [looper, 10];

			set one to 33;
			out ["will break"];
			break;
		endif;

		set looper to add [looper, 1];
	endloop;

	out ["now we start the yield loop"];

	#A yielding loop.
	let yieldcounter be 0;
	loop;

		if not host_has ["exit"];

			out ["declare exit in the host by typing 'done' to finish, yielded ", yieldcounter, " times"];
			set yieldcounter to add [yieldcounter, 1];
			yield;
		else;

			break;
		endif;

	endloop;

	out ["bye ", looper, " and ", one, "!"];

	#Totally not needed.
	return;

endfunction;
